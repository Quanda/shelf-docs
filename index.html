
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#registration" class="toc-h1 toc-link" data-title="Registration">Registration</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#required-fields" class="toc-h2 toc-link" data-title="Required fields">Required fields</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-2" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#required-fields-2" class="toc-h2 toc-link" data-title="Required fields">Required fields</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#books" class="toc-h1 toc-link" data-title="Books">Books</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#find-book" class="toc-h2 toc-link" data-title="Find book">Find book</a>
                  </li>
                  <li>
                    <a href="#add-book" class="toc-h2 toc-link" data-title="Add Book">Add Book</a>
                  </li>
                  <li>
                    <a href="#get-all-books" class="toc-h2 toc-link" data-title="Get all Books">Get all Books</a>
                  </li>
                  <li>
                    <a href="#get-book" class="toc-h2 toc-link" data-title="Get Book">Get Book</a>
                  </li>
                  <li>
                    <a href="#delete-book" class="toc-h2 toc-link" data-title="Delete Book">Delete Book</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://github.com/Quanda/shelf'>View Shelf on GitHub</a></li>
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Shelf REST API docs! You can use this API to access Shelf API endpoints, which facilitates requests to manage
your digital bookshelf.</p>
<h1 id='registration'>Registration</h1>
<blockquote>
<p>To register with Shelf, use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST
  https://shelf-app.herokuapp.com/api/users
  -H <span class="s1">'Content-Type: application/json'</span>
  -d <span class="s1">'{
    "fullname": "&lt;your fullname&gt;",
    "username": "&lt;your username&gt;",
    "password": "&lt;your password&gt;"
}   '</span>
</code></pre>
<p>Shelf uses JSON Web Token&#39;s to control access to the API. In order to get a token, you first must be
registered with an account. To do so, either head over the <a href='https://shelf-app.herokuapp.com/signup.html'>Signup page</a> or make a POST request to the <code>users</code> endpoint as in the example on the right.
You only need to register once.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://shelf-app.herokuapp.com/api/users</code></p>
<h3 id='required-fields'>Required fields</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fullname</td>
<td>First and last name</td>
</tr>
<tr>
<td>username</td>
<td>Your desired username</td>
</tr>
<tr>
<td>password</td>
<td>Your desired password</td>
</tr>
</tbody></table>

<p>If successful, you should see a 201 response code.</p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>To get an API token, use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST
  https://shelf-app.herokuapp.com/api/auth/login
  -H <span class="s1">'Content-Type: application/json'</span>
  -d <span class="s1">'{
    "username": "&lt;your username&gt;",
    "password": "&lt;your password&gt;"
}   '</span>
</code></pre>
<p>Once you are registered, to get a token, make a POST request to this endpoint 
as in the example on the right using your Username and Password. </p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://shelf-app.herokuapp.com/api/auth/login</code></p>
<h3 id='required-fields-2'>Required fields</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>Your username</td>
</tr>
<tr>
<td>password</td>
<td>Your password</td>
</tr>
</tbody></table>

<p>If successful, this endpoint returns a 7 day expiry token. Add that token in the header of your subsequent requests to the API
via Bearer Authentication for your requests to be authenticated. The header should look as follows:</p>

<p><code>Authorization: Bearer &lt;yourapitoken&gt;</code></p>

<aside class="notice">
You must replace <code>&lt;yourapitoken&gt;</code> with your personal API token.
</aside>
<h1 id='books'>Books</h1><h2 id='find-book'>Find book</h2>
<blockquote>
<p>For example, to search for books related to J.R.R Tolkien, use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X GET
  https://shelf-app.herokuapp.com/api/findbook/J. R. R. Tolkien
</code></pre>
<blockquote>
<p>The above command returns a 200 status code and an array of the top 5 books matching your search. 
In this example, the return data would be structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zWzAAgAAQBAJ"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"selfLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.googleapis.com/books/v1/volumes/zWzAAgAAQBAJ"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"volumeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"J.R.R. Tolkien"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A Biography"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"authors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"Humphrey Carpenter"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"publisher"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Houghton Mifflin Harcourt"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"publishedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-04"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The authorized biography of the creator of Middle-earth. In the decades since his death in September 1973, millions have read THE HOBBIT, THE LORD OF THE RINGS, and THE SILMARILLION and become fascinated about the very private man behind the books. Born in South Africa in January 1892, John Ronald Reuel Tolkien was orphaned in childhood and brought up in near-poverty. He served in the first World War, surviving the Battle of the Somme, where he lost many of the closest friends he'd ever had. After the war he returned to the academic life, achieving high repute as a scholar and university teacher, eventually becoming Merton Professor of English at Oxford where he was a close friend of C.S. Lewis and the other writers known as The Inklings. Then suddenly his life changed dramatically. One day while grading essay papers he found himself writing 'In a hole in the ground there lived a hobbit' -- and worldwide renown awaited him. Humphrey Carpenter was given unrestricted access to all Tolkien's papers, and interviewed his friends and family. From these sources he follows the long and painful process of creation that produced THE LORD OF THE RINGS and THE SILMARILLION and offers a wealth of information about the life and work of the twentieth century's most cherished author."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"readingModes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"image"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"maturityRating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_MATURE"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"allowAnonLogging"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contentVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.9.7.0.preview.3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"panelizationSummary"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"containsEpubBubbles"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"containsImageBubbles"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"imageLinks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"smallThumbnail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://books.google.com/books/content?id=zWzAAgAAQBAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;edge=curl&amp;source=gbs_api"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"thumbnail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://books.google.com/books/content?id=zWzAAgAAQBAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=1&amp;edge=curl&amp;source=gbs_api"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"previewLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://books.google.com/books?id=zWzAAgAAQBAJ&amp;printsec=frontcover&amp;dq=J.+R.+R.+Tolkien&amp;hl=&amp;cd=1&amp;source=gbs_api"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"infoLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://play.google.com/store/books/details?id=zWzAAgAAQBAJ&amp;source=gbs_api"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"canonicalVolumeLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://market.android.com/details?id=book-zWzAAgAAQBAJ"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="err">...next</span><span class="w"> </span><span class="err">book</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint returns details about the top 5 books matching your search, 
acting as a wrapper for the Google Books API.</p>

<p>This endpoint is not protected and therefore does not require an API token in the request header.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://shelf-app.herokuapp.com/api/findbook/&lt;search_string&gt;</code></p>

<aside class="notice">
You must replace <code> &lt;search_string&gt;</code> with your search string.
</aside>
<h2 id='add-book'>Add Book</h2>
<blockquote>
<p>For example, to add The Fellowship of the Ring, use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST
  https://shelf-app.herokuapp.com/api/users/books
  -H <span class="s1">'Authorization: Bearer &lt;yourapitoken&gt;'</span>
  -H <span class="s1">'Content-Type: application/json'</span>
  -d <span class="s1">'{
    "title": "The Lord of the Rings: The Fellowship of the Ring",
    "author": "J. R. R. Tolkien",
    "isbn": "9780547951942"
}'</span>
</code></pre>
<blockquote>
<p>The above command returns a 200 status code and JSON body structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Lord of the Rings: The Fellowship of the Ring"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"J. R. R. Tolkien"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"isbn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9780547951942"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint adds a book to your Shelf.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST https://shelf-app.herokuapp.com/api/users/books</code></p>
<h3 id='required-fields-3'>Required fields</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>Title of the book</td>
</tr>
<tr>
<td>author</td>
<td>Author of the book</td>
</tr>
<tr>
<td>isbn</td>
<td>ISBN of the book</td>
</tr>
</tbody></table>
<h3 id='optional-fields'>Optional fields</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>description</td>
<td>A description of the book</td>
</tr>
<tr>
<td>rating_user</td>
<td>A rating from 0-5</td>
</tr>
<tr>
<td>image_link</td>
<td>An image URL of the book cover</td>
</tr>
</tbody></table>
<h2 id='get-all-books'>Get all Books</h2>
<blockquote>
<p>To retrieve all books from your Shelf, use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X GET
  https://shelf-app.herokuapp.com/api/users/books
  -H <span class="s1">'Authorization: Bearer &lt;yourapitoken&gt;
</span></code></pre>
<blockquote>
<p>The above command returns a 200 status code and an array of book objects structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5bbb66bf20bd240014fa351b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"books"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5bbd57953161900014b9ebef"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Lord of the Rings: The Fellowship of the Ring"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"J. R. R. Tolkien"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"isbn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9780547951942"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="err">...next</span><span class="w"> </span><span class="err">book</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="err">...next</span><span class="w"> </span><span class="err">book</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint returns all books on your Shelf.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET https://shelf-app.herokuapp.com/api/users/books</code></p>
<h2 id='get-book'>Get Book</h2>
<blockquote>
<p>For example, to retrieve The Fellowship of the Ring from your Shelf, use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X GET
  https://shelf-app.herokuapp.com/api/users/books/9780547951942
  -H <span class="s1">'Authorization: Bearer &lt;yourapitoken&gt;
</span></code></pre>
<blockquote>
<p>The above command returns a 200 status code and an object structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5bbd57953161900014b9ebef"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Lord of the Rings: The Fellowship of the Ring"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"J. R. R. Tolkien"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"isbn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9780547951942"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint returns a single book from your Shelf.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>GET https://shelf-app.herokuapp.com/api/users/books/&lt;ISBN&gt;</code></p>
<h2 id='delete-book'>Delete Book</h2>
<blockquote>
<p>For example, to delete The Fellowship of the Ring from your Shelf, use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X DELETE
  https://shelf-app.herokuapp.com/api/users/books/9780547951942
  -H <span class="s1">'Authorization: Bearer &lt;myapitoken&gt;
</span></code></pre>
<blockquote>
<p>The above command returns a 204 status code and an empty body</p>
</blockquote>

<p>This endpoint deletes a single book from your Shelf.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>DELETE https://shelf-app.herokuapp.com/api/users/books/&lt;ISBN&gt;</code></p>
<h1 id='errors'>Errors</h1>
<p>The Shelf API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified book could not be found.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many books! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
